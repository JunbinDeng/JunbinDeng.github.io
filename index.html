<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Junbin&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Junbin's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Junbin's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Junbin's Blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Junbin&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/blogImg/blog-head.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Junbin Deng</a></h1>
		</hgroup>

		
		<p class="header-subtitle">不积小流，无以成江海</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/junbindeng" title="github">github</a>
					        
								<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/junbindeng" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:junbin.deng@outlook.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">爱生活，爱安卓，给自己带包盐</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Junbin Deng</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/assets/blogImg/blog-head.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Junbin Deng</h1>
			</hgroup>
			
			<p class="header-subtitle">不积小流，无以成江海</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/junbindeng" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="http://www.zhihu.com/people/junbindeng" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:junbin.deng@outlook.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-How-to-setup-a-Github-blog" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/13/How-to-setup-a-Github-blog/" class="article-date">
  	<time datetime="2015-07-13T11:13:59.000Z" itemprop="datePublished">2015-07-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/13/How-to-setup-a-Github-blog/">快速搭建极简主题的GitHub博客</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="说明">说明</h2><ul>
<li>需要有一个 GitHub 账号，可以在此申请：<a href="https://github.com/" target="_blank" rel="external">https://github.com/</a></li>
<li>此教程针对 Windows 系统用户</li>
<li>此教程针对建立以 <a href="http://用户名.github.io" target="_blank" rel="external">http://用户名.github.io</a> 为域名的博客</li>
<li>此教程实现的博客可以满足发布博文的基本需求</li>
</ul>
<h2 id="下载和安装">下载和安装</h2><ul>
<li><p>Git<br>  <a href="https://git-scm.com/download/win" target="_blank" rel="external">https://git-scm.com/download/win</a></p>
</li>
<li><p>Node.js<br>  <a href="https://nodejs.org/" target="_blank" rel="external">https://nodejs.org/</a></p>
</li>
</ul>
<h2 id="配置_SSH_Keys">配置 SSH Keys</h2><p>SSH Key 是用来让本地的 git 项目与 GitHub 服务器建立联系的。</p>
<h3 id="检查本地是否存在_SSH_keys">检查本地是否存在 SSH keys</h3><p>在所有程序中找到 Git，运行 GitBush，在弹出的窗口中输入并执行以下指令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/. ssh</span><br></pre></td></tr></table></figure>
<p>如果提示 No such file or directory 就说明是第一次使用 git。</p>
<h3 id="生成一个新的_SSH_Key">生成一个新的 SSH Key</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"你的邮箱@youremail.com"</span></span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa <span class="keyword">key</span> pair.</span><br><span class="line">Enter file <span class="keyword">in</span> which <span class="keyword">to</span> save the <span class="keyword">key</span> (/Users/your_user_directory/.ssh/id_rsa):&lt;回车&gt;</span><br></pre></td></tr></table></figure>
<p>要求输入密码，这个密码会在你提交项目时使用。</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):<span class="variable">&lt;密码&gt;</span></span><br><span class="line">Enter same passphrase again:<span class="variable">&lt;确认密码&gt;</span></span><br></pre></td></tr></table></figure>
<p>看到这样的界面，就说明成功设置ssh key了。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> <span class="regexp">/Users/</span>you<span class="regexp">/.ssh/</span>id_rsa.</span><br><span class="line"># Your <span class="keyword">public</span> key has been saved <span class="keyword">in</span> <span class="regexp">/Users/</span>you<span class="regexp">/.ssh/</span>id_rsa.pub.</span><br><span class="line"># The key fingerprint <span class="string">is:</span></span><br><span class="line"># <span class="number">01</span>:<span class="number">0</span><span class="string">f:</span><span class="string">f4:</span><span class="number">3</span><span class="string">b:</span><span class="string">ca:</span><span class="number">85</span>:<span class="string">d6:</span><span class="number">17</span>:<span class="string">a1:</span><span class="number">7</span><span class="string">d:</span><span class="string">f0:</span><span class="number">68</span>:<span class="number">9</span><span class="string">d:</span><span class="string">f0:</span><span class="string">a2:</span>db your_email<span class="annotation">@example</span>.com</span><br></pre></td></tr></table></figure>
<h3 id="添加_SSH_key_到_GitHub">添加 SSH key 到 GitHub</h3><ol>
<li>用记事本打开 C:\Users\你的系统用户名\id_rsa.pub 文件。内容为刚才生成的密钥，复制下来。</li>
<li>登陆 GitHub，点击右上角的 Account Settings -&gt; SSH Public keys -&gt; add another public keys。</li>
<li>把刚才复制的密钥粘贴到 key 文本框中，点击 Add key 就完成了。</li>
</ol>
<h3 id="测试连接">测试连接</h3><p>打开 Git Bash，输入：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">ssh</span> -T git<span class="variable">@github</span>.com</span><br></pre></td></tr></table></figure>
<p>你可能会看到这个提示，输入 yes。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># The authenticity of host 'github.com (207.97.227.239)' can't be established.</span></span><br><span class="line"><span class="preprocessor"># RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span></span><br><span class="line"><span class="preprocessor"># Are you sure you want to continue connecting (yes/no)?</span></span><br></pre></td></tr></table></figure>
<p>如果显示的用户名是你的，则配置 SSH key 完成。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># Hi username! You've successfully authenticated, but GitHub does not</span></span><br><span class="line"><span class="preprocessor"># provide shell access.</span></span><br></pre></td></tr></table></figure>
<h2 id="创建_GitHub_仓库">创建 GitHub 仓库</h2><p>登录 GitHub首页，点击页面右下角的 New Repository。接着填写项目信息：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">project name：用户名<span class="class">.github</span><span class="class">.io</span></span><br><span class="line"></span><br><span class="line">description： 项目描述</span><br></pre></td></tr></table></figure>
<p>注意，GitHub Pages 的 Repository 的 项目名是按以上格式规定的。</p>
<p>点击 Create Repository 完成创建。</p>
<h2 id="使用_Hexo_博客框架">使用 Hexo 博客框架</h2><p>Hexo 是一个简洁的博客框架，使用 Markdown 解析文章，几秒内，即可利用靓丽的主题生成静态网页。</p>
<h3 id="安装_Hexo">安装 Hexo</h3><p>运行 GitBush，输入并执行：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -<span class="keyword">g</span> hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure>
<h3 id="配置_Hexo">配置 Hexo</h3><p>在本地建立一个名叫 Hexo 的文件夹，然后在此文件夹中右键打开 Git Bash，输入并执行：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>hexo init</span><br></pre></td></tr></table></figure>
<p>随后会在该文件夹中自动生成使用 Hexo 建立网站所需要的文件。</p>
<h3 id="安装主题">安装主题</h3><p>Junbin 推荐 hexo-theme-yilia 主题： <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">https://github.com/litten/hexo-theme-yilia</a></p>
<p>安装方法：</p>
<p>在 Hexo 文件夹中右键打开 Git Bush，输入并执行：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/litten</span><span class="regexp">/hexo-theme-yilia.git themes/yilia</span></span><br></pre></td></tr></table></figure>
<h3 id="配置主题">配置主题</h3><p>用记事本打开 hexo 根目录下的 _config.yml， 修改参数为 theme: yilia</p>
<p>此时该主题就替换了 Hexo 默认的主题。</p>
<h2 id="新建一篇博文">新建一篇博文</h2><p>在 Hexo 文件夹中右键打开 Git Bush，输入并执行：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"文章的标题"</span></span><br></pre></td></tr></table></figure>
<p>这时会在 /Hexo/_posts/ 创建一个名为 <em>文章的标题.md</em> 的文件，可以使用 MarkDown 编辑器撰写博文。</p>
<p>Junbin 推荐 markdown2：<a href="http://markdownpad.com/" target="_blank" rel="external">http://markdownpad.com/</a></p>
<h2 id="使用本地服务器预览">使用本地服务器预览</h2><p>如果是第一次在 Hexo 文件夹使用该功能，需要右键打开 Git Bush，输入并执行：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<p>然后，需要生成并启动本地服务，进行文章预览调试。输入并执行：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo <span class="keyword">d</span> -<span class="keyword">g</span></span><br></pre></td></tr></table></figure>
<p>接着，在 Hexo 文件夹中右键打开 Git Bush，输入并执行：</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">server</span></span><br></pre></td></tr></table></figure>
<p>如果看到</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Hexo is running <span class="keyword">at</span> <span class="keyword">http</span>://<span class="number">0.0</span>.0.0:<span class="number">4000</span>/. Press Ctrl+C <span class="built_in">to</span> <span class="built_in">stop</span>.</span><br></pre></td></tr></table></figure>
<p>就说明本地服务器正常启动了。在浏览器中输入 <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 就可以预览当前博客的效果。</p>
<p>按下 Ctrl + C 可以停止当前预览服务器。</p>
<h2 id="部署到_GitHub_Page">部署到 GitHub Page</h2><p>如果是第一次部署，需要更改 Hexo 文件夹根目录 _config.yml 有关 deploy 的 type 和 repo 的参数值：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>: <span class="attribute">https</span>:<span class="comment">//github.com/用户名/用户名.github.io.git</span></span><br></pre></td></tr></table></figure>
<p>然后，清除缓存文件：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> clean</span><br></pre></td></tr></table></figure>
<p>接着，部署到 GitHub 服务器，输入并执行：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> deploy</span><br></pre></td></tr></table></figure>
<p>输入你的 GitHub 用户名：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Username <span class="keyword">for</span> <span class="string">'https</span>:<span class="comment">//github.com': 用户名</span></span><br></pre></td></tr></table></figure>
<p>输入你的 GitHub 密码：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">Password</span> for <span class="string">'https://username<span class="variable">@github</span>.com'</span>: 密码</span><br></pre></td></tr></table></figure>
<p>如果看见这个，恭喜你，部署成功了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Deploy <span class="keyword">done</span>: git</span><br></pre></td></tr></table></figure>
<p>参观一下你专属的 GitHub 博客吧 :)</p>
<p><a href="http://用户名.github.io" target="_blank" rel="external">http://用户名.github.io</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/博客/">博客</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Java-Basic-Reflect" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/13/Java-Basic-Reflect/" class="article-date">
  	<time datetime="2015-03-13T11:21:15.000Z" itemprop="datePublished">2015-03-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/13/Java-Basic-Reflect/">Java 基础 -- 反射</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-_反射的概述">1. 反射的概述</h2><p>反射就是在运行时期把类以及类的成员当做对象动态操作的机制。</p>
<p>Java 反射主要提供的功能：</p>
<ul>
<li>在运行时判断任意一个对象所属的类；</li>
<li>在运行时构造任意一个类的对象；</li>
<li>在运行时判断任意一个类所具有的成员变量和方法；</li>
<li>在运行时调用任意一个对象的方法；</li>
<li>生成动态代理。</li>
</ul>
<p>优点：大大提高了程序的扩展性。</p>
<p>弊端：反射过多会影响程序的性能。因为要先通知 jvm 才能访问相应对象，比直接访问要慢。</p>
<h2 id="2-_Class_类">2. Class 类</h2><p>Java 通过 Class 类实现反射。Class 类是描述字节码文件（.class）的对象，是所有 Java 类的总称。</p>
<p>一个类被类加载器加载到内存中，占用一片存储空间，这个空间里面的内容就是类的字节码。一片片空间可以用一个个对象来表示，这些对象具有的相同类型就是Class类型。</p>
<p>Class 类的实例对象是相应类在内存中的字节码。例如，ArrayList 类的字节码。</p>
<p>Class 类的方法：</p>
<ul>
<li>static Class&lt;?&gt; <strong>forName</strong>(String className)：返回与带有给定字符串名的类或接口相关联的 Class 对象。 </li>
</ul>
<h2 id="3-_获取_Class_类的实例对象的方法">3. 获取 Class 类的实例对象的方法</h2><p>方法一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名.class;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例如，System 是类名：</span></span><br><span class="line">Class clazz = System.class;</span><br></pre></td></tr></table></figure>
<p>方法二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.getClass();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例如：</span></span><br><span class="line">Class clazz = <span class="keyword">new</span> Date().getClass();</span><br></pre></td></tr></table></figure>
<p>方法三：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"包名类名"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例如：</span></span><br><span class="line">Class clazz = Class.forName(<span class="string">"java.util.Date"</span>);</span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">		String str1 = <span class="string">"abc"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 方法一</span></span><br><span class="line">		Class cls1 = String.class;</span><br><span class="line">		<span class="comment">// 方法二</span></span><br><span class="line">		Class cls2 = str1.getClass();</span><br><span class="line">		<span class="comment">// 方法三</span></span><br><span class="line">		Class cls3 = Class.forName(<span class="string">"java.lang.String"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(cls1 == cls2);    <span class="comment">// 结果：true</span></span><br><span class="line">		System.out.println(cls1 == cls3);    <span class="comment">// 结果：true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-_预定义_Class_对象">4. 预定义 Class 对象</h2><p>Class 类的方法：</p>
<ul>
<li>public boolean <strong>isPrimitive</strong>()：判定指定的 Class 对象是否表示一个基本类型。</li>
</ul>
<p>有九种预定义的 Class 对象，表示八个基本类型和 void。这些类对象由 Java 虚拟机创建，与其表示的基本类型同名，即 boolean、byte、char、short、int、long、float 和 double。 </p>
<p>这些对象仅能通过下列声明为 public static final 的变量访问，也是使此方法返回 true 的仅有的几个 Class 对象。</p>
<p>Boolean 类的字段：</p>
<ul>
<li>public static final Class&lt;Boolean&gt; <strong>TYPE</strong>：表示基本类型 boolean 的 Class 对象。</li>
</ul>
<p>Character 类的字段：</p>
<ul>
<li>public static final Class&lt;Character&gt; <strong>TYPE</strong>：表示基本类型 char 的 Class 实例。 </li>
</ul>
<p>Byte 类的字段：</p>
<ul>
<li>public static final Class&lt;Byte&gt; <strong>TYPE</strong>：表示基本类型 byte 的 Class 实例。 </li>
</ul>
<p>Short 类的字段：</p>
<ul>
<li>public static final Class&lt;Short&gt; <strong>TYPE</strong>：表示基本类型 short 的 Class 实例。</li>
</ul>
<p>Integer 类的字段：</p>
<ul>
<li>public static final Class&lt;Integer&gt; <strong>TYPE</strong>：表示基本类型 int 的 Class 实例。</li>
</ul>
<p>Long 类的字段：</p>
<ul>
<li>public static final Class&lt;Long&gt; <strong>TYPE</strong>：表示基本类型 long 的 Class 实例。 </li>
</ul>
<p>Float 类的字段：</p>
<ul>
<li>public static final Class&lt;Float&gt; <strong>TYPE</strong>：表示 float 基本类型的 Class 实例。</li>
</ul>
<p>Double 类的字段：</p>
<ul>
<li>public static final Class&lt;Double&gt; <strong>TYPE</strong>：表示基本类型 double 的 Class 实例。</li>
</ul>
<p>Void 类的字段：</p>
<ul>
<li>public static final Class&lt;Void&gt; <strong>TYPE</strong>：表示对应于关键字 void 的伪类型的 Class 对象。</li>
</ul>
<blockquote>
<p><strong>小贴士</strong></p>
<ul>
<li>int.class == Integer.TYPE。</li>
<li>源程序中出现的类型都有各自的 Class 实例对象，例如数组类型的 Class 实例对象 int[].class，可以使用 Class.isArray() 方法判定是否是数组类型。</li>
</ul>
</blockquote>
<h2 id="5-_Constructor_类">5. Constructor 类</h2><p>Constructor 类代表某个类中的一个构造方法。</p>
<p>Class 类本身没有构造方法，但是提供了方法来获得某个类的构造方法。</p>
<p>Class 类的方法：</p>
<ul>
<li>Constructor&lt;T&gt; <strong>getConstructor</strong>(Class&lt;?&gt;… parameterTypes)：返回一个 Constructor 对象，它反映此 Class 对象所表示的类的指定公共构造方法。</li>
<li>Constructor&lt;?&gt;[] <strong>getConstructors</strong>()：返回一个包含某些 Constructor 对象的数组，这些对象反映此 Class 对象所表示的类的所有公共构造方法。</li>
<li>T <strong>newInstance</strong>()：创建此 Class 对象所表示的类的一个新实例。</li>
</ul>
<p>Constructor 类的方法：</p>
<ul>
<li>T <strong>newInstance</strong>(Object… initargs)：使用此 Constructor 对象表示的构造方法来创建该构造方法的声明类的新实例，并用指定的初始化参数初始化该实例。</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Person run"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name + <span class="string">": "</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateClassDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"io.github.junbindeng.Person"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// Class 的 newInstance 方法新建一个空参数的实例对象</span></span><br><span class="line">		Person p = (Person) cls.newInstance();</span><br><span class="line">		</span><br><span class="line">		System.out.println(p);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// Constructor 的 newInstance 方法新建一个含参数的实例对象</span></span><br><span class="line">		Constructor&lt;?&gt; c2 = cls.getConstructor(String.class, <span class="keyword">int</span>.class);</span><br><span class="line">		Person p2 = (Person) c2.newInstance(<span class="string">"Lisi"</span>, <span class="number">30</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(p2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-_Field_类">6. Field 类</h2><p>Field 类代表某个类中的成员变量。</p>
<p>AccessibleObject 类是 Field、Method 和 Constructor 对象的基类。在反射对象中设置 accessible 标志允许具有足够特权的复杂应用程序（比如 Java Object Serialization 或其他持久性机制）以某种通常禁止使用的方式来操作对象。 </p>
<p>Class 类方法：</p>
<ul>
<li>Field <strong>getField</strong>(String name)：返回一个 Field 对象，它反映此 Class 对象所表示的类或接口的指定公共成员字段。</li>
<li>Field[] <strong>getFields</strong>()：返回一个包含某些 Field 对象的数组，这些对象反映此 Class 对象所表示的类或接口的所有可访问公共字段。</li>
<li>Field <strong>getDeclaredField</strong>(String name)：返回一个 Field 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明字段。</li>
<li>Field[] <strong>getDeclaredFields</strong>()：返回 Field 对象的一个数组，这些对象反映此 Class 对象所表示的类或接口所声明的所有字段。</li>
</ul>
<p>Field 类方法：</p>
<ul>
<li>void <strong>set</strong>(Object obj, Object value)：将指定对象变量上此 Field 对象表示的字段设置为指定的新值。</li>
<li>Object <strong>get</strong>(Object obj)：返回指定对象上此 Field 表示的字段的值。</li>
</ul>
<p>AccessibleObject 类方法：</p>
<ul>
<li>void <strong>setAccessible</strong>(boolean flag)：将此对象的 accessible 标志设置为指示的布尔值。</li>
</ul>
<p>示例 1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：改变成员变量的值 </span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 调用之前用过的 Person 类</span></span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"io.github.junbindeng.Person"</span>);</span><br><span class="line">		<span class="comment">// 创建 Person 对象</span></span><br><span class="line">		Person p = (Person) cls.newInstance();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取所有的成员变量</span></span><br><span class="line">		Field[] fs = cls.getFields();</span><br><span class="line">		<span class="keyword">for</span> (Field f : fs) &#123;</span><br><span class="line">			<span class="comment">// 输出时只会显示 Person 类中被 public 修饰的成员变量</span></span><br><span class="line">			System.out.println(f);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取指定的成员变量</span></span><br><span class="line">		Field fAge = cls.getField(<span class="string">"age"</span>);</span><br><span class="line">		Field fName = cls.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 改变 age 值，并输出</span></span><br><span class="line">		fAge.set(p, <span class="number">20</span>);</span><br><span class="line">		System.out.println(fAge.get(p));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 暴力反射，强制改变私有变量 name，并输出</span></span><br><span class="line">		fName.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">		fName.set(p, <span class="string">"Zhangsan"</span>);</span><br><span class="line">		System.out.println(fName.get(p));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例 2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：把一个对象中所有的 String 类型的成员变量所对应的字符串的内容中的 ‘a’ 改成 ‘@’</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChangeValue</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ChangeValuePoint pt1 = <span class="keyword">new</span> ChangeValuePoint();</span><br><span class="line">		</span><br><span class="line">		changeStringValue(pt1);</span><br><span class="line">		</span><br><span class="line">		System.out.println(pt1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">changeStringValue</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Field[] fields = obj.getClass().getFields();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">			<span class="keyword">if</span> (field.getType() == String.class) &#123;</span><br><span class="line">				String oldValue = (String) field.get(obj);</span><br><span class="line">				String newValue = oldValue.replace(<span class="string">'a'</span>, <span class="string">'@'</span>);</span><br><span class="line">				field.set(obj, newValue);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChangeValuePoint</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String str1 = <span class="string">"ball"</span>;</span><br><span class="line">	<span class="keyword">public</span> String str2 = <span class="string">"basketball"</span>;</span><br><span class="line">	<span class="keyword">public</span> String str3 = <span class="string">"basket"</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> str1 + <span class="string">":"</span> + str2 + <span class="string">":"</span> + str3;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-_Method_类">7. Method 类</h2><p>Method 类代表某个类中的成员方法。</p>
<p>Class 类方法：</p>
<ul>
<li>Method <strong>getMethod</strong>(String name, Class&lt;?&gt;… parameterTypes)：返回一个 Method 对象，它反映此 Class 对象所表示的类或接口的指定公共成员方法。<ul>
<li>name：方法名。</li>
<li>parameterTypes：参数列表。</li>
</ul>
</li>
<li>Method[] <strong>getMethods</strong>()：返回一个包含某些 Method 对象的数组，这些对象反映此 Class 对象所表示的类或接口（包括那些由该类或接口声明的以及从超类和超接口继承的那些的类或接口）的公共 member 方法。</li>
<li>Method <strong>getDeclaredMethod</strong>(String name, Class&lt;?&gt;… parameterTypes)：返回一个 Method 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明方法。</li>
<li>Method[] <strong>getDeclaredMethods</strong>()：返回 Method 对象的一个数组，这些对象反映此 Class 对象表示的类或接口声明的所有方法，包括公共、保护、默认（包）访问和私有方法，但不包括继承的方法。</li>
<li>Method <strong>getEnclosingMethod</strong>()：如果此 Class 对象表示某一方法中的一个本地或匿名类，则返回 Method 对象，它表示底层类的立即封闭方法。</li>
</ul>
<p>Method 类方法：</p>
<ul>
<li>Object <strong>invoke</strong>(Object obj, Object… args)：对带有指定参数的指定对象调用由此 Method 对象表示的底层方法。<ul>
<li>obj：从中调用底层方法的对象。</li>
<li>args：用于方法调用的参数。</li>
</ul>
</li>
</ul>
<p>示例 1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用之前用过的 Person 类，创建一个对象</span></span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(<span class="string">"io.github.junbindeng"</span>);</span><br><span class="line">		Person p = (Person) cls.newInstance();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取所有方法</span></span><br><span class="line">		Method[] mes = cls.getMethods();</span><br><span class="line">		<span class="keyword">for</span> (Method me : mes) &#123;</span><br><span class="line">			System.out.println(me);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取单个方法，方法名 toString，参数列表为 null</span></span><br><span class="line">		Method me = cls.getMethod(<span class="string">"toString"</span>, <span class="keyword">null</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用单个方法，调用方法对象 Person，参数为 null</span></span><br><span class="line">		Object returnValue = me.invoke(p, <span class="keyword">null</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(returnValue);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例 2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：调用某个类中的主函数</span><br><span class="line"> * </span><br><span class="line"> * 说明：运行此类需要把要调用的主函数所属的类名添加到 Program arguments，如 io.github.junbindeng.MainTest</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvokeMain</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 接收传入参数的类名</span></span><br><span class="line">		String className = args[<span class="number">0</span>];</span><br><span class="line">		Class&lt;?&gt; cls = Class.forName(className);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取该类的主函数</span></span><br><span class="line">		Method mainMethod = cls.getMethod(<span class="string">"main"</span>, String[].class);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用方法一：创建一个 String[] 并强转为 Object 类型</span></span><br><span class="line">		mainMethod.invoke(<span class="keyword">null</span>, (Object) <span class="keyword">new</span> String[] &#123;<span class="string">"111"</span>, <span class="string">"222"</span>, <span class="string">"333"</span>&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用方法二：创建一个 Object[] 再创建一个 String[] 作为 Object[0]</span></span><br><span class="line">		mainMethod.invoke(<span class="keyword">null</span>, <span class="keyword">new</span> Object[] &#123;<span class="keyword">new</span> String[] &#123;<span class="string">"111"</span>, <span class="string">"222"</span>, <span class="string">"333"</span>&#125;&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (String arg : args) &#123;</span><br><span class="line">			System.out.println(arg);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-_反射的应用">8. 反射的应用</h2><h3 id="8-1_框架结构">8.1 框架结构</h3><p>反射可以为程序设计框架结构。当程序需要调用某一个类，但是那个类暂时还没有出现，无法知道该类的类名。这时就需要使用反射设计程序框架，提供方法调用即将出现的类。</p>
<p>Class 类的方法：</p>
<ul>
<li>InputStream <strong>getResourceAsStream</strong>(String name)：查找具有给定名称的资源。</li>
</ul>
<p>Properties 类的方法：</p>
<ul>
<li><strong>Properties</strong>()：创建一个无默认值的空属性列表。</li>
<li>void <strong>load</strong>(InputStream inStream)：从输入流中读取属性列表（键和元素对）。</li>
<li>String <strong>getProperty</strong>(String key)：用指定的键在此属性列表中搜索属性。</li>
<li>String <strong>getProperty</strong>(String key, String defaultValue)：用指定的键在属性列表中搜索属性。</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectPoint</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> y;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ReflectPoint</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.x = x;</span><br><span class="line">		<span class="keyword">this</span>.y = y;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">final</span> <span class="keyword">int</span> prime = <span class="number">31</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		result = prime * result + x;</span><br><span class="line">		result = prime * result + y;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (obj == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (getClass() != obj.getClass()) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">final</span> ReflectPoint other = (ReflectPoint) obj;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (x != other.x) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (y != other.y) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.junbindeng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 读入配置文件</span></span><br><span class="line">		InputStream ips = ReflectTest4.class.getResourceAsStream(<span class="string">"/io/github/junbindeng/resources/config.properties"</span>);</span><br><span class="line">		Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">		props.load(ips);</span><br><span class="line">		ips.close();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 取出配置文件中的类名</span></span><br><span class="line">		String className = props.getProperty(<span class="string">"className"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 创建一个集合对象</span></span><br><span class="line">		Collection collections = (Collection) Class.forName(className).newInstance();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 向集合中添加 2 个类</span></span><br><span class="line">		ReflectPoint pt1 = <span class="keyword">new</span> ReflectPoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		ReflectPoint pt2 = <span class="keyword">new</span> ReflectPoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		collections.add(pt1);</span><br><span class="line">		collections.add(pt2);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 判断集合的大小</span></span><br><span class="line">		System.out.println(collections.size());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当配置文件 config.properties 中的内容为：</p>
<pre><code>className = java<span class="class">.util</span><span class="class">.HashSet</span>
</code></pre><p>则输出结果：</p>
<pre><code>1
</code></pre><p>当配置文件 config.properties 中的内容为：</p>
<pre><code>className = java<span class="class">.util</span><span class="class">.ArrayList</span>
</code></pre><p>则输出结果：</p>
<pre><code>2
</code></pre><p>注意：把元素添加到 HashSet 集合后，不要改变参与 HashCode 运算的字段，否则集合无法通过 HashCode 找到该元素，从而无法移除该元素，导致内存泄露。</p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接以上代码</span></span><br><span class="line">ReflectPoint pt1 = <span class="keyword">new</span> ReflectPoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">ReflectPoint pt2 = <span class="keyword">new</span> ReflectPoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">collections.add(pt1);</span><br><span class="line">collections.add(pt2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 更改了 HashCode 值，将无法移除该元素</span></span><br><span class="line">pt1.y = <span class="number">2</span>;</span><br><span class="line">collections.remove(pt1);</span><br><span class="line"></span><br><span class="line">System.out.println(collections.size());</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<pre><code>1
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Java-Basic-Regex" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/08/Java-Basic-Regex/" class="article-date">
  	<time datetime="2015-03-08T04:20:15.000Z" itemprop="datePublished">2015-03-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/08/Java-Basic-Regex/">Java 基础 -- 正则表达式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>正则表达式是符合一定规则的表达式。用于操作字符串，通过一些特殊的符号代替一些代码操作。</p>
<p>好处：可以简化对字符串的复杂操作。</p>
<p>弊端：符号定义越多，正则表达式越长，阅读性越差。</p>
<h2 id="1-_常用构造摘要">1. 常用构造摘要</h2><table>
<thead>
<tr>
<th style="text-align:left">构造</th>
<th style="text-align:left">匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>字符</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">字符 x</td>
</tr>
<tr>
<td style="text-align:left">\</td>
<td style="text-align:left">反斜线字符</td>
</tr>
<tr>
<td style="text-align:left">\t</td>
<td style="text-align:left">制表符 (‘\u0009’)</td>
</tr>
<tr>
<td style="text-align:left">\n</td>
<td style="text-align:left">换行符 (‘\u000A’)</td>
</tr>
<tr>
<td style="text-align:left">\r</td>
<td style="text-align:left">回车符 (‘\u000D’)</td>
</tr>
<tr>
<td style="text-align:left">\f</td>
<td style="text-align:left">换页符 (‘\u000C’)</td>
</tr>
<tr>
<td style="text-align:left">\a</td>
<td style="text-align:left">报警符 (‘\u0007’)</td>
</tr>
<tr>
<td style="text-align:left"><strong>字符类</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">[abc]</td>
<td style="text-align:left">a、b 或 c (简单类)</td>
</tr>
<tr>
<td style="text-align:left">[‘abc]</td>
<td style="text-align:left">任何字符，除了a、b 或 c (否定)</td>
</tr>
<tr>
<td style="text-align:left">[a-zA-Z]</td>
<td style="text-align:left">a 到 z 或 A 到 Z，包括两头字母 (范围)</td>
</tr>
<tr>
<td style="text-align:left">[a-d[m-p]]</td>
<td style="text-align:left">a 到 d 或 m 到 p: [a-dm-p] (并集)</td>
</tr>
<tr>
<td style="text-align:left">[a-z&amp;&amp;[def]]</td>
<td style="text-align:left">d、e 或 f (交集)</td>
</tr>
<tr>
<td style="text-align:left">[a-z&amp;&amp;[‘bc]]</td>
<td style="text-align:left">a 到 z，除了 b 和 c: [ad-z] (减去)</td>
</tr>
<tr>
<td style="text-align:left">[a-z&amp;&amp;[‘m-p]]</td>
<td style="text-align:left">a 到 z，而非 m 到 p: [a-1q-z] (减去)</td>
</tr>
<tr>
<td style="text-align:left"><strong>预定义字符类</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">任何字符 (与行结束符可能匹配也可能不匹配)</td>
</tr>
<tr>
<td style="text-align:left">\d</td>
<td style="text-align:left">数字: [0-9]</td>
</tr>
<tr>
<td style="text-align:left">\D</td>
<td style="text-align:left">非数字: [‘0-9]</td>
</tr>
<tr>
<td style="text-align:left">\s</td>
<td style="text-align:left">空白字符: [ \t\n\x0B\f\r]</td>
</tr>
<tr>
<td style="text-align:left">\S</td>
<td style="text-align:left">非空白字符: [^\s]</td>
</tr>
<tr>
<td style="text-align:left">\w</td>
<td style="text-align:left">单词字符: [a-zA-Z_0-9]</td>
</tr>
<tr>
<td style="text-align:left">\W</td>
<td style="text-align:left">非单词字符: [^\w]</td>
</tr>
<tr>
<td style="text-align:left"><strong>边界匹配器</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">行的开头</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">行的结尾</td>
</tr>
<tr>
<td style="text-align:left">\b</td>
<td style="text-align:left">单词边界</td>
</tr>
<tr>
<td style="text-align:left">\B</td>
<td style="text-align:left">非单词边界</td>
</tr>
<tr>
<td style="text-align:left">\A</td>
<td style="text-align:left">输入的开头</td>
</tr>
<tr>
<td style="text-align:left">\G</td>
<td style="text-align:left">上一个匹配的结尾</td>
</tr>
<tr>
<td style="text-align:left">\Z</td>
<td style="text-align:left">输入的结尾，仅用于最后的结束符 (如果有的话)</td>
</tr>
<tr>
<td style="text-align:left">\z</td>
<td style="text-align:left">输入的结尾</td>
</tr>
<tr>
<td style="text-align:left"><strong>Greedy 数量词</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">X?</td>
<td style="text-align:left">X, 一次或一次也没有</td>
</tr>
<tr>
<td style="text-align:left">X*</td>
<td style="text-align:left">X, 零次或多次</td>
</tr>
<tr>
<td style="text-align:left">X+</td>
<td style="text-align:left">X, 一次或多次</td>
</tr>
<tr>
<td style="text-align:left">X{n}</td>
<td style="text-align:left">X, 恰好 n 次</td>
</tr>
<tr>
<td style="text-align:left">X{n,}</td>
<td style="text-align:left">X, 至少 n 次</td>
</tr>
<tr>
<td style="text-align:left">X{n,m}</td>
<td style="text-align:left">X, 至少 n 次，但是不超过 m 次</td>
</tr>
<tr>
<td style="text-align:left"><strong>Logical 运算符</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">XY</td>
<td style="text-align:left">X 后跟 Y</td>
</tr>
<tr>
<td style="text-align:left">X\Y</td>
<td style="text-align:left">X 或 Y</td>
</tr>
<tr>
<td style="text-align:left">(X)</td>
<td style="text-align:left">X, 作为捕获组</td>
</tr>
<tr>
<td style="text-align:left"><strong>Back 引用</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">\n</td>
<td style="text-align:left">任何匹配的 n<sup>th</sup> 捕获组</td>
</tr>
<tr>
<td style="text-align:left"><strong>引用</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">\</td>
<td style="text-align:left">Nothing, 但是引用以下字符</td>
</tr>
<tr>
<td style="text-align:left">\Q</td>
<td style="text-align:left">Nothing, 但是引用所有字符, 直到 \E</td>
</tr>
<tr>
<td style="text-align:left">\E</td>
<td style="text-align:left">Nothing, 但是结束从 \Q 开始的引用</td>
</tr>
<tr>
<td style="text-align:left"><strong>特殊构造 (非捕获)</strong></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">(?:X)</td>
<td style="text-align:left">X, 作为非捕获组</td>
</tr>
</tbody>
</table>
<h3 id="1-1_组和捕获">1.1 组和捕获</h3><p>捕获组可以通过从左到右计算其开括号来编号。例如，在表达式 ((A)(B(C))) 中，存在四个这样的组： </p>
<p>1     ((A)(B(C)))<br>2     \A<br>3     (B(C))<br>4     (C) </p>
<p>组零始终代表整个表达式。 </p>
<p>之所以这样命名捕获组是因为在匹配中，保存了与这些组匹配的输入序列的每个子序列。捕获的子序列稍后可以通过 Back 引用在表达式中使用，也可以在匹配操作完成后从匹配器获取。 </p>
<p>与组关联的捕获输入始终是与组最近匹配的子序列。如果由于量化的缘故再次计算了组，则在第二次计算失败时将保留其以前捕获的值（如果有的话）例如，将字符串 “aba” 与表达式 (a(b)?)+ 相匹配，会将第二组设置为 “b”。在每个匹配的开头，所有捕获的输入都会被丢弃。 </p>
<p>以 (?) 开头的组是纯的非捕获组，它不捕获文本，也不针对组合计进行计数。</p>
<h2 id="2-_主要功能">2. 主要功能</h2><p>正则表达式的主要功能有：匹配，切割，替换，获取。</p>
<h3 id="2-1_匹配">2.1 匹配</h3><p>匹配是判断一个字符串是否符合规则。</p>
<p>String 类方法：</p>
<ul>
<li>boolean <strong>matches</strong>(String regex)：告知此字符串是否匹配给定的正则表达式。</li>
</ul>
<p>示例 1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：判断给定字符串是否符合手机号规则</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">checkTel</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String tel = <span class="string">"16900001111"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 规则：第 1 位是 1，第 2 位是 3、5、8，随后的 9 位是任意数字</span></span><br><span class="line">		String telReg = <span class="string">"1[358]\\d&#123;9&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (tel.matches(telReg)) &#123;</span><br><span class="line">			System.out.println(tel + <span class="string">"手机号格式正确"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(tel + <span class="string">"手机号码有误"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：写一个正则表达式，可以匹配尾号5连的手机号。规则: 第1位是1，第二位可以是数字3458其中之一，后面4位任意数字，最后5位为任意相同的数字。例如：18601088888、13912366666</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test9</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String tel = <span class="string">"18601088888"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 任意相同的 5 位数，(\\d&#123;1&#125;) 为捕获组 1，\\1&#123;4&#125; 为引用组 1，恰好 4 次</span></span><br><span class="line">		String telReg = <span class="string">"1[3458]\\d&#123;4&#125;(\\d&#123;1&#125;)\\1&#123;4&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//若匹配，结果为true; 若不匹配，结果为false</span></span><br><span class="line">		System.out.println(tel.matches(telReg));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例 2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：判断给定字符串是否符合 QQ 号规则</span><br><span class="line"> * 规则：QQ 号在 5-11 位数之间，开头不能是 0</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">checkQQ</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String qq = <span class="string">"215786721"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 第 1 位数字是 1-9，随后的位数是数字，出现的次数在 4-10 之间</span></span><br><span class="line">		String regex = <span class="string">"[1-9]\\d&#123;4,10&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (qq.matches(regex)) &#123;</span><br><span class="line">			System.out.println(qq + <span class="string">"是 QQ 号"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(qq + <span class="string">"不是 QQ 号"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2_切割">2.2 切割</h3><p>切割是按照规则将字符串拆分成多个字符串。</p>
<p>String 类方法：</p>
<ul>
<li>String[] <strong>split</strong>(String regex)：根据给定正则表达式的匹配拆分此字符串。</li>
<li>String[] <strong>split</strong>(String regex, int limit)：根据匹配给定的正则表达式来拆分此字符串。</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：按要求切割字符串，存入字符串数组里，输出数组中的元素</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegexDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">"ZhangSan.  Lisi.  WangWu.  SuperQQman"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按"."切。因为表达式 . 代表任意字符，所以要表示"."就在它前面加上转义符 \ ，单个反斜线与表达式 \\ 匹配</span></span><br><span class="line">		String regex =  <span class="string">"\\."</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按" "切。可能出现多个空格</span></span><br><span class="line">		regex = <span class="string">" +"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按出现2次或以上的叠词切</span></span><br><span class="line">		regex = <span class="string">"(.)\\1+"</span>;</span><br><span class="line">		</span><br><span class="line">		String[] arr = str.split(regex);</span><br><span class="line">		</span><br><span class="line">		System.out.println(arr.length);</span><br><span class="line">		<span class="keyword">for</span> (String s: arr) &#123;</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-3_替换">2.3 替换</h3><p>替换是将字符串按照规则变换成另一个字符串。</p>
<p>String 类方法：</p>
<ul>
<li>String <strong>replaceAll</strong>(String regex, String replacement)：使用给定的 replacement 替换此字符串所有匹配给定的正则表达式的子字符串。 </li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：替换字符串中的元素</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReplaceDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">"wer1389980000ty1234uiod234345675f"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 把原字符串中至少连续出现 5 次的数字替换成 # </span></span><br><span class="line">		String regex = <span class="string">"\\d&#123;5,&#125;"</span>;</span><br><span class="line">		String replacement = (<span class="string">"#"</span>);</span><br><span class="line">				</span><br><span class="line">		String newStr = str.replaceAll(regex, replacement);</span><br><span class="line">		</span><br><span class="line">		System.out.println(newStr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4_获取">2.4 获取</h3><p>获取是取出字符串中符合规则的子串。</p>
<p>Patten 类方法：</p>
<ul>
<li>static Pattern <strong>compile</strong>(String regex)：将给定的正则表达式编译到模式中。 </li>
<li>Matcher <strong>matcher</strong>(CharSequence input)：创建匹配给定输入与此模式的匹配器。</li>
</ul>
<p>Macher 类方法：</p>
<ul>
<li>boolean <strong>find</strong>()：尝试查找与该模式匹配的输入序列的下一个子序列。</li>
<li>String <strong>group</strong>()：返回由以前匹配操作所匹配的输入子序列。</li>
<li>int <strong>start</strong>()：返回以前匹配的初始索引。</li>
<li>int <strong>end</strong>()：返回最后匹配字符之后的偏移量。</li>
</ul>
<p>步骤：</p>
<ol>
<li>将正则表达式封装成对象。</li>
<li>将正则对象与要操作的字符串相关联。</li>
<li>关联后，获取正则匹配引擎。</li>
<li>通过引擎取出符合规则的子串。</li>
</ol>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：取出长度为4位的字符串</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegexDemo2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String input = <span class="string">"ming tian jiu yao fang jia le, da jia."</span>;</span><br><span class="line">		</span><br><span class="line">		System.out.println(input);</span><br><span class="line">		</span><br><span class="line">		String regex = <span class="string">"[a-z]&#123;4&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 将规则封装成对象</span></span><br><span class="line">		Pattern p = Pattern.compile(regex);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 将正则对象与要操作的字符串相关联，获取匹配器对象</span></span><br><span class="line">		Matcher m = p.matcher(input);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 通过引擎取出符合规则的子串</span></span><br><span class="line">		<span class="keyword">while</span> (m.find()) &#123;</span><br><span class="line">			System.out.println(m.group());</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 获取角标</span></span><br><span class="line">			System.out.println(<span class="string">"index = "</span> + m.start() + <span class="string">"-"</span> + m.end());</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-_应用">3. 应用</h2><h3 id="3-1_IP_地址排序">3.1 IP 地址排序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：给 IP 地址排序</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ipSort</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String ip = <span class="string">"192.68.1.254 102.49.23.013 10.10.10.10 2.2.2.2 8.109.90.30"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 给每一个地址段前都补上 2 个 0。 $1 表示提取括号内的组 1 (\\d+)</span></span><br><span class="line">		ip = ip.replaceAll(<span class="string">"(\\d+)"</span>, <span class="string">"00$1"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 把超出 3 位后的 0 全都去掉</span></span><br><span class="line">		ip = ip.replaceAll(<span class="string">"0*(\\d&#123;3&#125;)"</span>, <span class="string">"$1"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// IP 地址分割后放入数组里</span></span><br><span class="line">		String[] arr = ip.split(<span class="string">" "</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 放入TreeSet集合里排序</span></span><br><span class="line">		TreeSet&lt;String&gt; ts = <span class="keyword">new</span> TreeSet&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span> (String s : arr) &#123;</span><br><span class="line">			ts.add(s);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 遍历集合取出 IP 地址，将每个地址前面的 0 去掉</span></span><br><span class="line">		<span class="keyword">for</span> (String s : ts) &#123;</span><br><span class="line">			System.out.println(s.replaceAll(<span class="string">"0*(\\d+)"</span>, <span class="string">"$1"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2_网页爬虫">3.2 网页爬虫</h3><p>URL 类方法：</p>
<ul>
<li><strong>URL</strong>(String spec)：根据 String 表示形式创建 URL 对象。</li>
<li>URLConnection <strong>openConnection</strong>()：返回一个 URLConnection 对象，它表示到 URL 所引用的远程对象的连接。</li>
</ul>
<p>URLConnection 类方法：</p>
<ul>
<li>InputStream <strong>getInputStream</strong>()：返回从此打开的连接读取的输入流。 </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLConnection;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：过滤出网页中所有的邮件地址（网页爬虫）</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetMail</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 定义 URL 地址</span></span><br><span class="line">		URL url = <span class="keyword">new</span> URL(<span class="string">"http://localhost:8080/myweb/mail.html"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 连接 URL 地址</span></span><br><span class="line">		URLConnection conn = url.openConnection();</span><br><span class="line">		</span><br><span class="line">		BufferedReader bufIn = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(conn.getInputStream()));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 邮件地址规则</span></span><br><span class="line">		String mailReg = <span class="string">"\\w+@\\w+(\\.\\w+)+"</span>;</span><br><span class="line">		</span><br><span class="line">		Pattern p = Pattern.compile(mailReg);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (String line = <span class="keyword">null</span>; (line = bufIn.readLine()) != <span class="keyword">null</span>; ) &#123;</span><br><span class="line">			Matcher m = p.matcher(line);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">while</span> (m.find()) &#123;</span><br><span class="line">				System.out.println(m.group());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原网页：</p>
<p><img src="/assets/blogImg/Java-Basic-Regex/original-page.jpg" alt="原网页"></p>
<p>输出结果：</p>
<p><img src="/assets/blogImg/Java-Basic-Regex/result-output.jpg" alt="输出结果"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Java-Basic-Web" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/06/Java-Basic-Web/" class="article-date">
  	<time datetime="2015-03-05T16:33:18.000Z" itemprop="datePublished">2015-03-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/06/Java-Basic-Web/">Java 基础 -- 网络编程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-_网络参考模型">1. 网络参考模型</h2><p>OSI参考模型是ISO（国际标准化组织）为了更好的使网络普及，推荐采用的规范控制网络。</p>
<p><img src="/assets/blogImg/Java-Basic-Web/osi.jpg" alt=" 网络参考模型"></p>
<p>OSI参考模式有7个层次，从低到高分别为：物理层，数据链路层，网络层，传输层，会话层，表示层，应用层。</p>
<ol>
<li><p>物理层：利用传输介质为数据链路层提供物理连接。传送比特流，处理多少伏电压代表1，多少伏电压代表0等问题。</p>
</li>
<li><p>数据链路层：解决两个相邻节点间的通信问题。传送数据帧，将不可靠的物理链路转换为无差错的数据链路。</p>
</li>
<li><p>网络层：解决如何使数据包通过各节点传送的问题。传送数据包，选择路由，控制拥塞。</p>
</li>
<li><p>传输层：提供可靠和透明的数据传输服务。传送报文，呈现一条主机到主机的，可控制的通路。</p>
</li>
<li><p>会话层：负责建立、管理和终止应用程序之间的会话。</p>
</li>
<li><p>表示层：处理流经节点的数据编码的表示等问题，确保应用层能识别。</p>
</li>
<li><p>应用层：通过应用程序完成网络用户的需求，如收发电子邮件等。</p>
</li>
</ol>
<p>TCP/IP模型有4个层次，从低到高分别为：网络接口层，网络层，传输层，应用层。</p>
<ul>
<li>应用层协议：FTP，HTTP。</li>
<li>传输层协议：UDP，TCP。</li>
<li>网络层协议：IP。</li>
</ul>
<p>通常用户操作的是应用层，开发人员操作的是传输层和网络层。</p>
<p>用户间的通讯是数据封包拆包的过程。将一方应用层操作的数据，经过逐层封包，再通过物理层发送到另一方的模型中，最后进行逐层拆包到另一方的应用层。</p>
<p><img src="/assets/blogImg/Java-Basic-Web/connection.jpg" alt="用户间的通讯"></p>
<h2 id="2-_网络通讯要素">2. 网络通讯要素</h2><p>网络通讯的三要素：IP地址，端口号，传输协议。</p>
<p>IP地址：</p>
<ul>
<li>网络中设备的标识。</li>
<li>不易记忆，可用主机名。</li>
<li>本地回环地址：127.0.0.1 / 主机名：localhost。</li>
</ul>
<p>端口号：</p>
<ul>
<li>用于标识进程的逻辑地址，不同进程的标识。</li>
<li>有效端口：0-65535，其中0-1024是系统使用或保留的端口。</li>
</ul>
<p>传输协议：</p>
<ul>
<li>通讯的规则。</li>
<li>常见协议：TCP，UDP。</li>
</ul>
<h2 id="3-_TCP和UDP">3. TCP和UDP</h2><p>UDP协议的特点：</p>
<ul>
<li>不需要建立连接，数据及源和目的封装在数据包内。</li>
<li>每个数据包的大小限制在64K内。</li>
<li>是不可靠协议，因为无连接。</li>
<li>速度快，因为不需要建立连接。</li>
</ul>
<p>TCP协议的特点：</p>
<ul>
<li>建立连接，形成传输数据的通道。</li>
<li>在连接中进行大数据量传输。</li>
<li>是可靠协议，需要通过三次握手完成连接。</li>
<li>效率稍低，因为必须建立连接。</li>
</ul>
<h2 id="4-_Socket">4. Socket</h2><p>Socket就是为网络服务提供的一种机制。网络通信其实就是Socket间的通信，通信的两端都有Socket，数据在两个Socket间通过IO传输。</p>
<h2 id="5-_UDP传输">5. UDP传输</h2><p>UDP传输方法：</p>
<ul>
<li>DatagramSocket</li>
<li>DatagramPacket</li>
</ul>
<p>步骤：</p>
<ol>
<li>建立发送端，接收端。</li>
<li>建立数据包。</li>
<li>调用Socket的发送接收方法。</li>
<li>关闭Socket。</li>
</ol>
<h3 id="5-1_发送端">5.1 发送端</h3><p>在发送端，数据包对象中要明确目的地IP及端口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] by = <span class="string">"hello, udp!"</span>.getBytes();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span><br><span class="line"> * DatagramPacket(byte[] buf, int offset, int length, InetAddress address, int port)</span><br><span class="line"> * 构造数据报包，用来将长度为 length 偏移量为 offset 的包发送到指定主机上的指定端口号</span><br><span class="line"> */</span></span><br><span class="line">DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(by, <span class="number">0</span>, by.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">10000</span>);</span><br><span class="line"></span><br><span class="line">ds.send(dp);</span><br><span class="line"></span><br><span class="line">ds.close();</span><br></pre></td></tr></table></figure>
<h3 id="5-2_接收端">5.2 接收端</h3><p>在接收端，要指定监听的端口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指定监听的端口</span></span><br><span class="line">DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">10000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] by = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(by, by.length);</span><br><span class="line"></span><br><span class="line">ds.receive(dp);</span><br><span class="line"></span><br><span class="line">String str = <span class="keyword">new</span> String(dp.getData(), <span class="number">0</span>, dp.getLength());</span><br><span class="line"></span><br><span class="line">System.out.println(str + <span class="string">"--"</span> + dp.getAddress());</span><br><span class="line"></span><br><span class="line">ds.close();</span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：创建一个UDP聊天软件</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Send</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 创建发送端端口</span></span><br><span class="line">		DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">		</span><br><span class="line">		BufferedReader bufr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 读入键入文本，放进数组里</span></span><br><span class="line">		<span class="keyword">for</span> (String line; (line = bufr.readLine()) != <span class="keyword">null</span>; ) &#123;</span><br><span class="line">			<span class="keyword">byte</span>[] buf = line.getBytes();</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 将数据，IP地址，端口封包</span></span><br><span class="line">			DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(buf, buf.length, InetAddress.getByName(<span class="string">"192.168.1.255"</span>), <span class="number">10002</span>);</span><br><span class="line">			<span class="comment">// 把数据包寄出</span></span><br><span class="line">			ds.send(dp);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span> (<span class="string">"886"</span>.equals(line)) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		ds.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receive</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;	</span><br><span class="line">		<span class="comment">// 创建接收端端口</span></span><br><span class="line">		DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">10002</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="comment">// 创建数据包接收数组长度的数据</span></span><br><span class="line">			DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(buf, buf.length);</span><br><span class="line">			<span class="comment">// 接收数据包</span></span><br><span class="line">			ds.receive(dp);</span><br><span class="line">			<span class="comment">// 拆包取数据</span></span><br><span class="line">			String data = <span class="keyword">new</span> String(dp.getData(), <span class="number">0</span>, dp.getLength());</span><br><span class="line">			<span class="comment">// 获取主机IP地址</span></span><br><span class="line">			String ip = dp.getAddress().getHostAddress();</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (<span class="string">"886"</span>.equals(data)) &#123;</span><br><span class="line">				System.out.println(ip + <span class="string">"离开聊天室"</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 将IP地址和数据输出</span></span><br><span class="line">			System.out.println(ip + <span class="string">": "</span> + data);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		ds.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-_TCP传输">6. TCP传输</h2><p>TCP传输方法：</p>
<ul>
<li>Socket</li>
<li>ServerSocket</li>
</ul>
<p>步骤：</p>
<ol>
<li>建立客户端和服务器端。</li>
<li>建立连接后，通过Socket中的IO流进行数据的传输。</li>
<li>关闭Socket。</li>
</ol>
<h3 id="6-1_客户端">6.1 客户端</h3><p>客户端基本思路：</p>
<ul>
<li>客户端需要明确服务器的ip地址以及端口，这样才可以去试着建立连接。如果连接失败，会出现异常。</li>
<li>连接成功，说明客户端与服务端建立了通道，那么通过IO流就可以进行数据的传输。而Socket对象已经提供了输入流和输出流对象，通过getInputStream()，getOutputStram获取即可。</li>
<li>与服务端通讯结束后，关闭Socket。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过Socket建立对象并指定要连接的服务端主机以及端口</span></span><br><span class="line">Socket s = <span class="keyword">new</span> Socket(<span class="string">"192.168.1.1"</span>, <span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line">OutputStream out = s.getOutputStream();</span><br><span class="line">out.write(<span class="string">"hello"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">s.close();</span><br></pre></td></tr></table></figure>
<h3 id="6-2_服务端">6.2 服务端</h3><p>服务端基本思路：</p>
<ul>
<li>服务端需要明确它要处理的数据是从哪个端口进入的。</li>
<li>当有客户端访问时，要明确是哪个客户端。可通过accept()获取已连接的客户端对象，并通过该对象与客户端通过IO流进行数据传输。</li>
<li>当该客户端访问结束，关闭该客户端。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 建立服务端需要监听一个端口</span></span><br><span class="line">ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line">Socket s = ss.accept();</span><br><span class="line">InputStream in = s.getInputStream();</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num = in.read(buf);</span><br><span class="line"></span><br><span class="line">String str = <span class="keyword">new</span> String(buf, <span class="number">0</span>, num);</span><br><span class="line"></span><br><span class="line">System.out.println(s.getInetAddress().toString() + <span class="string">":"</span> + str);</span><br><span class="line"></span><br><span class="line">s.close();</span><br><span class="line">ss.close();</span><br></pre></td></tr></table></figure>
<p>注意：TCP传输最容易出现的问题是，客户端连接上服务端，两端都在等待，没有任何数据传输。原因在于read方法或readLine是阻塞式的。解决办法是自定义结束标记或使用shutdownInput，shutdownOutput方法。</p>
<p>示例1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：从客户端上传图片到服务端</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PicClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得文件位置</span></span><br><span class="line">		System.out.println(<span class="string">"请输入文件位置："</span>);</span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">		File file = <span class="keyword">new</span> File(br.readLine());</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!(file.exists() &amp;&amp; file.isFile())) &#123;</span><br><span class="line">			System.out.println(<span class="string">"文件不存在或者不是文件"</span>);</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!file.getName().endsWith(<span class="string">".jpg"</span>)) &#123;</span><br><span class="line">			System.out.println(<span class="string">"必须是后缀名为jpg的文件"</span>);</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (file.length() &gt; <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">6</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"文件过大"</span>);</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">"localhost"</span>, <span class="number">10007</span>);</span><br><span class="line">		</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 向端口传文件到服务器</span></span><br><span class="line">		OutputStream out = s.getOutputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">0</span>; (len = fis.read(buf)) != -<span class="number">1</span>; ) &#123;</span><br><span class="line">			out.write(buf, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 告诉服务端数据已写完</span></span><br><span class="line">		s.shutdownOutput();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得服务器的反馈信息，存在字节数组里，并获取字节数组的长度</span></span><br><span class="line">		InputStream in = s.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] bufIn = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len = in.read(bufIn);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="keyword">new</span> String(bufIn, <span class="number">0</span>, len));</span><br><span class="line">		</span><br><span class="line">		fis.close();</span><br><span class="line">		s.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多线程，可以让服务端同时处理多个客户端请求</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PicThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Socket s;</span><br><span class="line">	</span><br><span class="line">	PicThread(Socket s) &#123;</span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		String ip = s.getInetAddress().getHostAddress();</span><br><span class="line">		</span><br><span class="line">		System.out.println(ip + <span class="string">" is connected"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 获得传进来的文件</span></span><br><span class="line">			InputStream in = s.getInputStream();</span><br><span class="line">			</span><br><span class="line">			File dir = <span class="keyword">new</span> File(<span class="string">"d:\\"</span>);</span><br><span class="line">		</span><br><span class="line">			File file = <span class="keyword">new</span> File(dir, ip + <span class="string">"("</span> + count + <span class="string">")"</span> + <span class="string">".jpg"</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 给文件编号，如果文件已存在，文件名的编号+1</span></span><br><span class="line">			<span class="keyword">while</span> (file.exists()) &#123;</span><br><span class="line">				file = <span class="keyword">new</span> File(dir, ip + <span class="string">"("</span> + count++ + <span class="string">")"</span> + <span class="string">".jpg"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 把传进来的文件读入数组再写到指定路径中</span></span><br><span class="line">			FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">0</span>; (len = in.read(buf)) != -<span class="number">1</span>; ) &#123;</span><br><span class="line">				fos.write(buf, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 告诉客户端“上传成功”</span></span><br><span class="line">			OutputStream out = s.getOutputStream();	</span><br><span class="line">			out.write(<span class="string">"上传成功"</span>.getBytes());</span><br><span class="line">			</span><br><span class="line">			fos.close();</span><br><span class="line">			s.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(ip + <span class="string">"上传失败"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PicServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ServerSocket ss;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(<span class="number">10007</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">				Socket s = ss.accept();</span><br><span class="line">				<span class="keyword">new</span> Thread(<span class="keyword">new</span> PicThread(s)).start();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：客户端向服务端发送用户名请求登陆，服务端通过验证则返回欢迎提示，未通过则提示用户不存在</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">"localhost"</span>, <span class="number">10008</span>);</span><br><span class="line">		</span><br><span class="line">		BufferedReader bufr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// PrintWriter有对OutputStream打印并自动刷新的功能</span></span><br><span class="line">		PrintWriter out = <span class="keyword">new</span> PrintWriter(s.getOutputStream(), <span class="keyword">true</span>);</span><br><span class="line">		</span><br><span class="line">		BufferedReader bufIn = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(s.getInputStream()));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">3</span>; x++) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 从键盘读入</span></span><br><span class="line">			String line = bufr.readLine();</span><br><span class="line">			<span class="comment">// 输出到服务器</span></span><br><span class="line">			out.println(line);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 从服务器端读入并输出提示</span></span><br><span class="line">			String info = bufIn.readLine();</span><br><span class="line">			System.out.println(<span class="string">"提示: "</span> + info);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span> (info.contains(<span class="string">"欢迎"</span>)) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">		bufr.close();</span><br><span class="line">		s.close();	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端多线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Socket s;</span><br><span class="line">	</span><br><span class="line">	UserThread(Socket s) &#123;</span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String ip = s.getInetAddress().getHostAddress();</span><br><span class="line">		</span><br><span class="line">		System.out.println(ip + <span class="string">" 已连接"</span>);</span><br><span class="line">		</span><br><span class="line">		BufferedReader bufr = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">3</span>; x++) &#123;</span><br><span class="line">				</span><br><span class="line">				BufferedReader bufIn = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(s.getInputStream()));</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// 从客户端读入</span></span><br><span class="line">				String name = bufIn.readLine();</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// 保存着用户名列表的对象</span></span><br><span class="line">				bufr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"D:\\user.txt"</span>));</span><br><span class="line">				</span><br><span class="line">				PrintWriter out = <span class="keyword">new</span> PrintWriter(s.getOutputStream(), <span class="keyword">true</span>);</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// 控制是否登陆成功的标记</span></span><br><span class="line">				<span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">for</span> (String line = <span class="keyword">null</span>; (line = bufr.readLine()) != <span class="keyword">null</span>; ) &#123;</span><br><span class="line">					<span class="keyword">if</span> (line.equals(name)) &#123;</span><br><span class="line">						flag = <span class="keyword">true</span>;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">					System.out.println(name + <span class="string">" 已登录"</span>);</span><br><span class="line">					out.println(name + <span class="string">"，欢迎光临"</span>);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					System.out.println(name + <span class="string">" 尝试登陆"</span>);</span><br><span class="line">					out.println(name + <span class="string">" 用户名不存在"</span>);</span><br><span class="line">				&#125;	</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			s.close();</span><br><span class="line">			bufr.close();</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(ip + <span class="string">"校验失败"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ServerSocket ss;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(<span class="number">10008</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">				Socket s = ss.accept();</span><br><span class="line">				<span class="keyword">new</span> Thread(<span class="keyword">new</span> UserThread(s)).start();</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Java-Basic-GUI" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/04/Java-Basic-GUI/" class="article-date">
  	<time datetime="2015-03-04T02:26:18.000Z" itemprop="datePublished">2015-03-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/04/Java-Basic-GUI/">Java 基础 -- GUI</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-_简述GUI">1. 简述GUI</h2><p>GUI（Graphical User Interface）是图形用户接口。用图形的方式来显示计算机操作界面，这样更方便直观。</p>
<p>CLI（Command Line User Interface）是命令行用户接口。就是常见的DOS命令行，需要记忆一些常用的命令，操作不直观。</p>
<p>Java为GUI提供的对象都存在java.Awt和javax.Swing两个包中。</p>
<h2 id="2-_Awt和Swing">2. Awt和Swing</h2><p>java.Awt：Abstract Window ToolKit（抽象窗口工具包）。需要调用本地系统方法实现功能，属重量级控件。</p>
<p>javax.Swing：在AWT的基础上建立的一套图形界面系统，其中提供了更多的组件，而且完全由Java实现。增强了可移植性，属轻量级控件。</p>
<h2 id="3-_继承关系图">3. 继承关系图</h2><p><img src="/assets/blogImg/Java-Basic-GUI/ji-cheng-guan-xi-tu.jpg" alt="继承关系图"></p>
<h2 id="4-_布局管理器">4. 布局管理器</h2><p>容器中的组件的排放方式，就是布局。</p>
<p>常见的布局管理器：</p>
<p>FlowLayout：流式布局管理器。</p>
<ul>
<li>从左到右的顺序排列。</li>
<li>Panel默认的布局管理器。</li>
</ul>
<p>BorderLayout：边界布局管理器。</p>
<ul>
<li>东，南，西，北，中。</li>
<li>Frame默认的布局管理器。</li>
</ul>
<p>GridLayout：网格布局管理器。</p>
<ul>
<li>规则的矩阵。</li>
</ul>
<p>CardLayout：卡片布局管理器。</p>
<ul>
<li>选项卡。</li>
</ul>
<p>GridBagLayout：网格包布局管理器。</p>
<ul>
<li>非规则的矩阵。</li>
</ul>
<h2 id="5-_建立简单的窗体">5. 建立简单的窗体</h2><p>Container常用子类：</p>
<ul>
<li>Window</li>
<li>Panel（不能单独存在）</li>
</ul>
<p>Window常用子类：</p>
<ul>
<li>Frame</li>
<li>Dialong</li>
</ul>
<p>简单的窗体创建过程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Frame f = <span class="keyword">new</span> Frame(<span class="string">"my window"</span>);</span><br><span class="line">f.setLayout(<span class="keyword">new</span> FlowLayout());</span><br><span class="line">f.setSize(<span class="number">500</span>,<span class="number">400</span>);    <span class="comment">// 设置窗体大小</span></span><br><span class="line">f.setLocation(<span class="number">300</span>,<span class="number">200</span>);    <span class="comment">// 设置窗体出现在屏幕的位置</span></span><br><span class="line">f.setVisible(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
<h2 id="6-_事件监听机制">6. 事件监听机制</h2><p>事件监听机制组成：</p>
<ul>
<li>事件源（组件）</li>
<li>事件（Event）</li>
<li>监听器（Listener）</li>
<li>事件处理（引发事件后的处理方式）</li>
</ul>
<p>事件源：awt包或者swing包中的图形界面组件。</p>
<p>事件：每一个事件源都有自己特有的对应事件和共性事件。</p>
<p>监听器：将可以触发某一个事件的动作封装到了监听器中。</p>
<p>事件监听机制流程图：</p>
<p><img src="/assets/blogImg/Java-Basic-GUI/shi-jian-jian-ting-ji-zhi.jpg" alt="事件监听机制流程图"></p>
<p>流程：</p>
<ol>
<li>确定事件源（容器或组件）。</li>
<li>通过事件源对象的addXXXListener()方法将监听器注册到该事件源上。<ul>
<li>该方法接收XXXListener的子类对象，或者该子类XXXAdapter的子类对象。</li>
<li>一般用匿名内部类表示。</li>
<li>在覆盖方法的时候，方法参数一般是XXXEvent类型的变量接收。</li>
</ul>
</li>
<li>事件触发后会把事件打包成对象传递给该变量。<ul>
<li>其中包括事件源对象，通过getSource()或getComponent()获取。</li>
</ul>
</li>
</ol>
<p>示例1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.Button;</span><br><span class="line"><span class="keyword">import</span> java.awt.FlowLayout;</span><br><span class="line"><span class="keyword">import</span> java.awt.Frame;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：创建窗口，创建按钮，关闭窗口</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AwtDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Frame f = <span class="keyword">new</span> Frame(<span class="string">"my window"</span>);</span><br><span class="line">		f.setSize(<span class="number">500</span>, <span class="number">400</span>);</span><br><span class="line">		f.setLocation(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">		f.setLayout(<span class="keyword">new</span> FlowLayout());    <span class="comment">//窗口布局</span></span><br><span class="line">		</span><br><span class="line">		Button b = <span class="keyword">new</span> Button(<span class="string">"小按钮"</span>);</span><br><span class="line">		f.add(b);</span><br><span class="line">		</span><br><span class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"关"</span>);</span><br><span class="line">				System.exit(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowActivated</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"激活"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowOpened</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"打开"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.Button;</span><br><span class="line"><span class="keyword">import</span> java.awt.FlowLayout;</span><br><span class="line"><span class="keyword">import</span> java.awt.Frame;</span><br><span class="line"><span class="keyword">import</span> java.awt.TextField;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.MouseAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.MouseEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：键盘和鼠标监听</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MouseAndKeyEvent</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Frame f;</span><br><span class="line">	<span class="keyword">private</span> Button b;</span><br><span class="line">	<span class="keyword">private</span> TextField tf;</span><br><span class="line">	</span><br><span class="line">	MouseAndKeyEvent() &#123;</span><br><span class="line">		init();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		f = <span class="keyword">new</span> Frame(<span class="string">"my window"</span>);</span><br><span class="line">		f.setBounds(<span class="number">300</span>, <span class="number">100</span>, <span class="number">600</span>, <span class="number">500</span>);</span><br><span class="line">		f.setLayout(<span class="keyword">new</span> FlowLayout());</span><br><span class="line">		f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">		</span><br><span class="line">		tf = <span class="keyword">new</span> TextField(<span class="number">20</span>);</span><br><span class="line">		f.add(tf);</span><br><span class="line">		</span><br><span class="line">		b = <span class="keyword">new</span> Button(<span class="string">"Ctrl + Enter"</span>);</span><br><span class="line">		f.add(b);</span><br><span class="line">		</span><br><span class="line">		myEvent();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">myEvent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 窗口监听，点击关闭退出窗口</span></span><br><span class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.exit(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 文本框的按键监听，键入数字键0-9以外的按键提示非法</span></span><br><span class="line">		tf.addKeyListener(<span class="keyword">new</span> KeyAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">int</span> code = e.getKeyCode();</span><br><span class="line">				<span class="keyword">if</span> (!(code &gt;= KeyEvent.VK_0 &amp;&amp; code &lt;= KeyEvent.VK_9)) &#123;</span><br><span class="line">					System.out.println(code + <span class="string">"是非法的"</span>);</span><br><span class="line">					e.consume();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按钮的组合键监听</span></span><br><span class="line">		b.addKeyListener(<span class="keyword">new</span> KeyAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (e.isControlDown() &amp;&amp; (e.getKeyCode() == KeyEvent.VK_ENTER)) &#123;</span><br><span class="line">					System.out.println(<span class="string">"Ctrl + Enter is run"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按钮按下监听</span></span><br><span class="line">		b.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"按钮按下"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按钮鼠标进入，双击监听</span></span><br><span class="line">		b.addMouseListener(<span class="keyword">new</span> MouseAdapter() &#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">int</span> clickCount = <span class="number">1</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseEntered</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"鼠标进入"</span> + count++);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseClicked</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (e.getClickCount() == <span class="number">2</span>) &#123;</span><br><span class="line">					System.out.println(<span class="string">"鼠标双击"</span> + clickCount++);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> MouseAndKeyEvent();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-_菜单继承体系">7. 菜单继承体系</h2><p><img src="/assets/blogImg/Java-Basic-GUI/cai-dan-ji-cheng-ti-xi.jpg" alt="菜单继承体系"></p>
<p>创建菜单步骤：</p>
<ol>
<li>创建菜单条。</li>
<li>创建菜单。</li>
<li>在每一个菜单中创建菜单项。</li>
<li>也可以把菜单添加到菜单中，作为子菜单。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.FileDialog;</span><br><span class="line"><span class="keyword">import</span> java.awt.Frame;</span><br><span class="line"><span class="keyword">import</span> java.awt.Menu;</span><br><span class="line"><span class="keyword">import</span> java.awt.MenuBar;</span><br><span class="line"><span class="keyword">import</span> java.awt.MenuItem;</span><br><span class="line"><span class="keyword">import</span> java.awt.TextArea;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * 需求：制作一个记事本程序，菜单中有打开和保存文件的功能。</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMenuTest</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Frame f;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> TextArea ta;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> MenuBar bar;</span><br><span class="line">	<span class="keyword">private</span> Menu fileMenu;</span><br><span class="line">	<span class="keyword">private</span> MenuItem openItem, saveItem, closeItem;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> FileDialog openDia, saveDia;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> File file;</span><br><span class="line">	</span><br><span class="line">	MyMenuTest() &#123;</span><br><span class="line">		init();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 设置窗体</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		f = <span class="keyword">new</span> Frame(<span class="string">"My Notepad"</span>);</span><br><span class="line">		f.setBounds(<span class="number">600</span>, <span class="number">200</span>, <span class="number">600</span>, <span class="number">600</span>);</span><br><span class="line">		f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">		</span><br><span class="line">		bar = <span class="keyword">new</span> MenuBar();</span><br><span class="line">		f.setMenuBar(bar);</span><br><span class="line">		</span><br><span class="line">		ta = <span class="keyword">new</span> TextArea();</span><br><span class="line">		f.add(ta);</span><br><span class="line">		</span><br><span class="line">		fileMenu = <span class="keyword">new</span> Menu(<span class="string">"文件"</span>);</span><br><span class="line">		bar.add(fileMenu);</span><br><span class="line">		</span><br><span class="line">		openItem = <span class="keyword">new</span> MenuItem(<span class="string">"打开"</span>);</span><br><span class="line">		saveItem = <span class="keyword">new</span> MenuItem(<span class="string">"保存"</span>);</span><br><span class="line">		closeItem = <span class="keyword">new</span> MenuItem(<span class="string">"退出"</span>);</span><br><span class="line">		fileMenu.add(openItem);</span><br><span class="line">		fileMenu.add(saveItem);</span><br><span class="line">		fileMenu.add(closeItem);</span><br><span class="line">		</span><br><span class="line">		openDia = <span class="keyword">new</span> FileDialog(f, <span class="string">"打开文件"</span>, FileDialog.LOAD);</span><br><span class="line">		saveDia = <span class="keyword">new</span> FileDialog(f, <span class="string">"保存文件"</span>, FileDialog.SAVE);</span><br><span class="line">		</span><br><span class="line">		myEvent();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myEvent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 保存菜单事件</span></span><br><span class="line">		saveItem.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (file == <span class="keyword">null</span>) &#123;</span><br><span class="line">					saveDia.setVisible(<span class="keyword">true</span>);</span><br><span class="line">					</span><br><span class="line">					String dirPath = saveDia.getDirectory();</span><br><span class="line">					String fileName = saveDia.getFile();</span><br><span class="line">		</span><br><span class="line">					file = <span class="keyword">new</span> File(dirPath, fileName);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					BufferedWriter bufw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(file));</span><br><span class="line">					</span><br><span class="line">					String text = ta.getText();    <span class="comment">// getText()可以获得文本区中的文本</span></span><br><span class="line">					bufw.write(text);</span><br><span class="line">					</span><br><span class="line">					bufw.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">					<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 打开菜单事件</span></span><br><span class="line">		openItem.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				openDia.setVisible(<span class="keyword">true</span>);</span><br><span class="line">				</span><br><span class="line">				ta.setText(<span class="string">""</span>);    <span class="comment">// 打开新文件时要清空旧文本区</span></span><br><span class="line">				</span><br><span class="line">				String dirPath = openDia.getDirectory();</span><br><span class="line">				String fileName = openDia.getFile();</span><br><span class="line">				</span><br><span class="line">				file = <span class="keyword">new</span> File(dirPath, fileName);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					BufferedReader bufr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(file));</span><br><span class="line">					</span><br><span class="line">					<span class="keyword">for</span> (String line = <span class="keyword">null</span>; (line = bufr.readLine()) != <span class="keyword">null</span>; ) &#123;</span><br><span class="line">						ta.append(line + <span class="string">"\n"</span>);    <span class="comment">// \r\n与\n都可以换行，\n可以实现跨平台</span></span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">					bufr.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">					<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 退出菜单事件</span></span><br><span class="line">		closeItem.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.exit(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 关闭窗口事件</span></span><br><span class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.exit(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> MyMenuTest();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Junbin Deng
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>